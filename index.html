<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Scanner Wajah & Tangan â€” Gesture to Voice</title>
  <style>
    :root{--bg:#0f1724;--panel:#0b1220;--accent:#06b6d4;--muted:#94a3b8}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial;background:linear-gradient(180deg,#061018 0%, #071829 100%);color:#e6eef6}
    .wrap{max-width:1100px;margin:0 auto;padding:12px}
    header{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
    h1{font-size:1.2rem;margin:0;line-height:1.4}
    p.lead{margin:4px 0 0;color:var(--muted);font-size:0.9rem}
    .stage{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
    @media(min-width:768px){
      .stage{grid-template-columns:1fr 300px}
    }
    .card{background:rgba(255,255,255,0.03);padding:12px;border-radius:10px;box-shadow:0 4px 12px rgba(2,6,23,0.5)}
    video{width:100%;height:auto;border-radius:8px;transform:scaleX(-1)}
    canvas{position:absolute;left:0;top:0;transform:scaleX(-1)}
    .preview{position:relative}
    .controls{display:flex;flex-direction:column;gap:10px}
    label{font-size:0.85rem;color:var(--muted)}
    select,input[type="checkbox"]{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;font-size:0.9rem}
    button{padding:12px;border-radius:8px;border:0;background:var(--accent);color:#012;cursor:pointer;font-size:1rem}
    button:active{transform:scale(0.97)}
    ul.legend{padding-left:18px;margin:6px 0;font-size:0.9rem}
    footer{margin-top:14px;color:var(--muted);font-size:0.8rem;text-align:center}
    .fullscreen-btn{margin-top:8px;padding:10px;border-radius:8px;border:0;background:#22c55e;color:#fff;cursor:pointer;font-size:0.9rem;width:100%}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Scanner Wajah & Tangan â€” Gesture â†’ Voice</h1>
        <p class="lead">Izinkan kamera. Saat gesture tangan dikenali, suara akan diputar.</p>
      </div>
    </header>

    <div class="stage">
      <div class="card preview">
        <div style="position:relative">
          <video id="video" autoplay playsinline></video>
          <canvas id="overlay"></canvas>
        </div>
        <button class="fullscreen-btn" id="fullscreenBtn">ðŸ“º Layar Penuh</button>
      </div>

      <aside class="card">
        <div class="controls">
          <label>Bahasa suara</label>
          <select id="voiceLang">
            <option value="id-ID">Indonesia (id-ID)</option>
            <option value="en-US">English (en-US)</option>
          </select>

          <label>Ambang deteksi gesture</label>
          <select id="stableFrames">
            <option value="6">6 frames</option>
            <option value="10">10 frames</option>
            <option value="3">3 frames (cepat)</option>
          </select>

          <label>
            <input type="checkbox" id="drawLandmarks" checked /> Tampilkan landmark
          </label>

          <button id="toggleCam">Mulai Kamera</button>

          <div>
            <label>Gesture didukung</label>
            <ul class="legend">
              <li><b>Fist</b> â†’ "Tangan mengepal"</li>
              <li><b>Open palm</b> â†’ "Halo"</li>
              <li><b>Peace</b> â†’ "Peace / Dua"</li>
              <li><b>Point</b> â†’ "Satu"</li>
              <li><b>Thumbs up</b> â†’ "Bagus!"</li>
            </ul>
          </div>
        </div>
      </aside>
    </div>

    <footer class="card">Gunakan Chrome/Edge terbaru untuk hasil terbaik. Mobile friendly âœ”</footer>
  </div>

  <!-- MediaPipe & helpers via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>

  <script>
  // (kode JavaScript tetap sama seperti sebelumnya)
  const fullscreenBtn = document.getElementById('fullscreenBtn');
  const videoEl = document.getElementById('video');
  fullscreenBtn.addEventListener('click', ()=>{
    if(videoEl.requestFullscreen){
      videoEl.requestFullscreen();
    } else if(videoEl.webkitRequestFullscreen){
      videoEl.webkitRequestFullscreen();
    } else if(videoEl.msRequestFullscreen){
      videoEl.msRequestFullscreen();
    }
  });
  </script>
</body>
</html>
